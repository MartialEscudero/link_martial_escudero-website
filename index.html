<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="utf-8" />
    <link href="/assets/css/style.css" rel="stylesheet">
    <link href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css" rel="stylesheet">
    <link rel="icon" href="/assets/img/favicon.png" />
    <title>Tous les liens de Martial Escudero</title>
    <meta name="robots" content="noindex" />
  </head>
  <body>
    <div id="app" class="flex lg:h-screen">
      <div class="m-auto text-center">
        <img class="m-auto w-52 lg:mb-28 sm:mb-32 lg:mt-0 sm:mt-20" src="/assets/img/icon.png">
        <div class="grid lg:gap-10 sm:gap-10 lg:grid-cols-5">
          <div v-for="social in socials">
            <a :href=social.link target="_blank">
              <div class="card transform transition duration-300 hover:scale-110 lg:max-w-xs lg:h-48 sm:max-w-xl lg:mb-0 sm:mb-20" :style=social.borderColor>
                <ion-icon :name=social.icon></ion-icon>
                <h1 class="lg:text-2xl sm:text-5xl">{{social.title}}</h1>
                <p class="lg:text-sm sm:text-3xl lg:mt-5 sm:mt-10">{{social.description}}</p>
              </div>
            </a>
          </div>
        </div>
      </div>
    </div>
  </body>
  <script src="https://cdn.jsdelivr.net/npm/vue@2"></script>
  <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
  <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
  <script>
    var app = new Vue({
      el: '#app',
      data: {
        tab: null,
        socials: [],
      },
      methods: {
        async created() {
          const response = await fetch("https://strapi-martialescudero.herokuapp.com/links?display_eq=true");
          const data = await response.json();
          this.tab = data;
          this.tab.forEach(element => {
            this.socials.push({
              title : element.title,
              description : element.description,
              link: element.link,
              borderColor: "border: 3px solid "+ element.color,
              styleColor : "color :" + element.color,
              icon: element.ionicons
            })
          });
          console.log(this.socials)
        }
      },
      mounted() {
        this.created();
      }
    })
  </script>
</html>